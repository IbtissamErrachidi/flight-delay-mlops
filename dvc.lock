schema: '2.0'
stages:
  prepare_data:
    cmd: python -m src.data.prepare_data
    deps:
    - path: data/raw/df_final.csv
      hash: md5
      md5: 6d641230621a41045a8f99a036f71010
      size: 98254458
    - path: src/data/prepare_data.py
      hash: md5
      md5: 8c36a4eb55d896938a456f53a26ebb3a
      size: 1654
    outs:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 6d2f5d8a4060743678b670c9ea4c21ca
      size: 56211
    - path: data/processed/X_train.csv
      hash: md5
      md5: c01c85f1ec561ab49877c9f6d3812b41
      size: 227834
    - path: data/processed/y_test.csv
      hash: md5
      md5: 04f9ecdc8f877fd58d5301462654ff38
      size: 2431
    - path: data/processed/y_train.csv
      hash: md5
      md5: 8581dbb38443a97a8187da36aa2ac264
      size: 9785
    - path: models/encoder.pkl
      hash: md5
      md5: 6e64ec98a4e73f5d2598d60cb474c634
      size: 3566
  train_model:
    cmd: python -m src.models.train
    deps:
    - path: data/processed/X_train.csv
      hash: md5
      md5: c01c85f1ec561ab49877c9f6d3812b41
      size: 227834
    - path: data/processed/y_train.csv
      hash: md5
      md5: 8581dbb38443a97a8187da36aa2ac264
      size: 9785
    - path: src/models/train.py
      hash: md5
      md5: 9994f7b9d1398fa3735d9da3dc3d3930
      size: 4935
    params:
      params.yaml:
        model.xgboost.learning_rate: 0.05
        model.xgboost.max_depth: 8
        model.xgboost.n_estimators: 700
    outs:
    - path: models/best_model.pkl
      hash: md5
      md5: d46b8d47370a143851ca156bd50d00a6
      size: 4714154
  evaluate:
    cmd: python -m src.models.evaluate
    deps:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 6d2f5d8a4060743678b670c9ea4c21ca
      size: 56211
    - path: data/processed/y_test.csv
      hash: md5
      md5: 04f9ecdc8f877fd58d5301462654ff38
      size: 2431
    - path: src/models/evaluate.py
      hash: md5
      md5: 82e44261ce96516760478cd1157aeea6
      size: 3042
    outs:
    - path: evaluation/confusion_matrix.png
      hash: md5
      md5: 5f5d1b287a113617c4e4c0ddd7146aad
      size: 17965
    - path: evaluation/metrics.json
      hash: md5
      md5: 592d9209d7d94270f1ebd8eebca0636e
      size: 97
    - path: evaluation/predictions.csv
      hash: md5
      md5: 22fc0da402a0aefd29f44ec40418f224
      size: 6431
    - path: evaluation/scatter_plot.png
      hash: md5
      md5: ed4dae9ece8b41e84f6e623c9a830734
      size: 33584
