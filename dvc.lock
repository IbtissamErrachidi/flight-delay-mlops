schema: '2.0'
stages:
  prepare_data:
    cmd: python -m src.data.prepare_data
    deps:
    - path: data/raw/leftover_flights_2000.csv
      hash: md5
      md5: d3f5c862af6fe7385ce11ab2b5d1529c
      size: 195772
    - path: src/data/prepare_data.py
      hash: md5
      md5: 51843e1be45db6078052eaa0e719f378
      size: 1663
    outs:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 6d2f5d8a4060743678b670c9ea4c21ca
      size: 56211
    - path: data/processed/X_train.csv
      hash: md5
      md5: c01c85f1ec561ab49877c9f6d3812b41
      size: 227834
    - path: data/processed/y_test.csv
      hash: md5
      md5: 04f9ecdc8f877fd58d5301462654ff38
      size: 2431
    - path: data/processed/y_train.csv
      hash: md5
      md5: 8581dbb38443a97a8187da36aa2ac264
      size: 9785
    - path: models/encoder.pkl
      hash: md5
      md5: 6e64ec98a4e73f5d2598d60cb474c634
      size: 3566
  train_model:
    cmd: python -m src.models.train
    deps:
    - path: data/processed/X_train.csv
      hash: md5
      md5: c01c85f1ec561ab49877c9f6d3812b41
      size: 227834
    - path: data/processed/y_train.csv
      hash: md5
      md5: 8581dbb38443a97a8187da36aa2ac264
      size: 9785
    - path: src/models/train.py
      hash: md5
      md5: 044fad74754b30f6bf450c555f73763c
      size: 1980
    params:
      params.yaml:
        model.xgboost.learning_rate: 0.1
        model.xgboost.max_depth: 6
        model.xgboost.n_estimators: 100
    outs:
    - path: models/xgboost_model_v2.pkl
      hash: md5
      md5: d46b8d47370a143851ca156bd50d00a6
      size: 4714154
  evaluate:
    cmd: python -m src.models.evaluate
    deps:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 6d2f5d8a4060743678b670c9ea4c21ca
      size: 56211
    - path: data/processed/y_test.csv
      hash: md5
      md5: 04f9ecdc8f877fd58d5301462654ff38
      size: 2431
    - path: models/xgboost_model_v2.pkl
      hash: md5
      md5: d46b8d47370a143851ca156bd50d00a6
      size: 4714154
    - path: src/models/evaluate.py
      hash: md5
      md5: 3dc6f3542696d080409d94b0b8c6fc93
      size: 2238
    outs:
    - path: evaluation/confusion_matrix.png
      hash: md5
      md5: 5f5d1b287a113617c4e4c0ddd7146aad
      size: 17965
    - path: evaluation/metrics.json
      hash: md5
      md5: 592d9209d7d94270f1ebd8eebca0636e
      size: 97
    - path: evaluation/predictions.csv
      hash: md5
      md5: 22fc0da402a0aefd29f44ec40418f224
      size: 6431
    - path: evaluation/scatter_plot.png
      hash: md5
      md5: ed4dae9ece8b41e84f6e623c9a830734
      size: 33584
